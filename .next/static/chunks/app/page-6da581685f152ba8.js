(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2873:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>w});var n=r(5155),s=r(2115),a=r(9946);let i=(0,a.A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),o=(0,a.A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var l=r(6874),c=r.n(l),u=r(8932),d=r(5695),m=r(3941),f=r(3568);r(4052);var x="undefined"!=typeof window?s.useLayoutEffect:s.useEffect;function h(e,t,r,n){let a=(0,s.useRef)(t);x(()=>{a.current=t},[t]),(0,s.useEffect)(()=>{let t=(null==r?void 0:r.current)??window;if(!(t&&t.addEventListener))return;let s=e=>{a.current(e)};return t.addEventListener(e,s,n),()=>{t.removeEventListener(e,s,n)}},[e,r,n])}function p(e){let t=(0,s.useRef)(()=>{throw Error("Cannot call an event handler while rendering.")});return x(()=>{t.current=e},[e]),(0,s.useCallback)((...e)=>{var r;return null==(r=t.current)?void 0:r.call(t,...e)},[t])}var v="undefined"==typeof window;let g=async(e,t)=>{performance.now();let r=await t();return performance.now(),r},b=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};performance.now();try{let r=await fetch(e,t);return performance.now(),r}catch(e){throw performance.now(),e}},j=()=>{(0,d.useRouter)();let[e,t]=(0,s.useState)([]),[r,a]=(0,s.useState)(!0),[l,x]=(0,s.useState)(null),[j,y]=function(e,t,r={}){let{initializeWithValue:n=!0}=r,a=(0,s.useCallback)(e=>r.serializer?r.serializer(e):JSON.stringify(e),[r]),i=(0,s.useCallback)(e=>{let t;if(r.deserializer)return r.deserializer(e);if("undefined"!==e){try{t=JSON.parse(e)}catch(e){return console.error("Error parsing JSON:",e),1}return t}},[r,t]),o=(0,s.useCallback)(()=>{let r=t instanceof Function?t():t;if(v)return r;try{let t=window.sessionStorage.getItem(e);return t?i(t):r}catch(t){return console.warn(`Error reading sessionStorage key \u201C${e}\u201D:`,t),r}},[t,e,i]),[l,c]=(0,s.useState)(()=>n?o():t instanceof Function?t():t),u=p(t=>{v&&console.warn(`Tried setting sessionStorage key \u201C${e}\u201D even though environment is not a client`);try{let r=t instanceof Function?t(o()):t;window.sessionStorage.setItem(e,a(r)),c(r),window.dispatchEvent(new StorageEvent("session-storage",{key:e}))}catch(t){console.warn(`Error setting sessionStorage key \u201C${e}\u201D:`,t)}}),d=p(()=>{v&&console.warn(`Tried removing sessionStorage key \u201C${e}\u201D even though environment is not a client`);let r=t instanceof Function?t():t;window.sessionStorage.removeItem(e),c(r),window.dispatchEvent(new StorageEvent("session-storage",{key:e}))});(0,s.useEffect)(()=>{c(o())},[e]);let m=(0,s.useCallback)(t=>{t.key&&t.key!==e||c(o())},[e,o]);return h("storage",m),h("session-storage",m),[l,u,d]}("pageno",1,{initializeWithValue:!1});return((0,s.useEffect)(()=>{let e=setTimeout(async()=>{try{a(!0),x(null);let e="23102388d04ea414040596bb8b634d15";if(!e)throw Error("TMDB API key not found");let r=await g("Fetch movies page ".concat(j),()=>b("https://api.themoviedb.org/3/movie/popular?api_key=".concat(e,"&language=en-US&page=").concat(j),{method:"GET",headers:{"Content-Type":"application/json"}}));if(!r.ok)throw Error("HTTP error! status: ".concat(r.status));let n=await r.json();t(n.results||[])}catch(e){x(e.message),f.Ay.error("Failed to load movies")}finally{a(!1)}},100);return()=>clearTimeout(e)},[j]),r)?(0,n.jsx)("div",{className:"md:p-4 mt-10 max-md:w-full",children:(0,n.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#f84565]"})})}):l?(0,n.jsx)("div",{className:"md:p-4 mt-10 max-md:w-full",children:(0,n.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,n.jsxs)("p",{className:"text-red-500",children:["Error loading movies: ",l]})})}):(0,n.jsxs)("div",{className:"md:p-4  max-md:w-full",id:"moviepage",children:[(0,n.jsxs)("div",{className:" flex justify-between  md:mx-auto pt-4 max-md:w-full max-md:px-4",children:[(0,n.jsx)(u.A,{top:"20%",left:"10%"}),(0,n.jsx)("h1",{className:"text-[#f84565] font-semibold text-3xl md:ml-22",children:"Popular Movies"})]}),(0,n.jsx)(u.A,{left:"-100px",bottom:"-150px"}),(0,n.jsx)("div",{className:"flex flex-wrap gap-4 max-md:justify-center justify-center w-[100%] mx-auto p-4 max-md:w-full",children:e.map(e=>(0,n.jsx)(m.A,{movie:e},e.id))}),(0,n.jsxs)("div",{className:"flex justify-center items-center gap-4",children:[(0,n.jsx)(c(),{href:"/",children:(0,n.jsxs)("button",{onClick:()=>{j<=1?f.Ay.error("This is the first page"):y(j-1)},className:"bg-[#f84565] hover:bg-[#f84565]/80 px-3 py-2 text-black font-semibold rounded-2xl cursor-pointer flex gap-2 w-30 justify-center items-center",children:[(0,n.jsx)(i,{})," Previous"]})}),(0,n.jsx)("button",{className:"bg-[#f84565] px-5 py-2 text-black font-semibold rounded-xl ",children:j}),(0,n.jsx)(c(),{href:"/",children:(0,n.jsxs)("button",{onClick:()=>{y(j+1)},className:"bg-[#f84565] hover:bg-[#f84565]/80 px-3 py-2 text-black font-semibold rounded-2xl cursor-pointer flex gap-2 w-30 justify-center items-center",children:["Next",(0,n.jsx)(o,{})]})})]})]})};class y extends s.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){}render(){return this.state.hasError?(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-black",children:(0,n.jsxs)("div",{className:"text-center p-8",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold text-white mb-4",children:"Something went wrong"}),(0,n.jsx)("p",{className:"text-gray-400 mb-6",children:"We are sorry, but something unexpected happened."}),(0,n.jsx)("button",{onClick:()=>{this.setState({hasError:!1,error:null}),window.location.reload()},className:"bg-[#f84565] hover:bg-[#f84565]/80 px-6 py-3 text-black font-semibold rounded-xl cursor-pointer",children:"Try Again"})]})}):this.props.children}constructor(e){super(e),this.state={hasError:!1,error:null}}}function w(){let[e,t]=(0,s.useState)(!0);return((0,s.useEffect)(()=>{let e=setTimeout(()=>{t(!1)},500);return()=>clearTimeout(e)},[]),e)?(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-black",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-[#f84565] mx-auto mb-4"}),(0,n.jsx)("h1",{className:"text-2xl font-bold text-white mb-2",children:"MovieTicket"}),(0,n.jsx)("p",{className:"text-gray-400",children:"Loading your movie experience..."})]})}):(0,n.jsx)(y,{children:(0,n.jsx)("div",{children:(0,n.jsx)(j,{})})})}},3941:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var n=r(5155);let s=(0,r(9946).A)("headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);var a=r(8564),i=r(6766),o=r(5695),l=r(2115);let c=e=>{let{movie:t}=e,r=(0,o.useRouter)(),[c,u]=(0,l.useState)(!1);if(!0===t.adult||"true"===t.adult||[715287,993234,1280461,259872,611251,1470086,226674,460229].includes(t.id))return null;let d=t.id||t.movieid;return(0,n.jsxs)("div",{className:"flex flex-col justify-between outline bg-gray-900 p-2 rounded-2xl hover:scale-105 transition-all duration-200 py-4 px-4 w-[250px] max-md:w-[47%] max-md:p-2 max-md:outline-1",children:[(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsx)(i.default,{width:200,height:300,onClick:()=>{r.push("/movies/".concat(d))},className:"shadow-[#f84565] h-60 w-full shadow rounded-lg object-cover object-right-bottom cursor-pointer",src:!c&&t.poster_path?"https://image.tmdb.org/t/p/w300".concat(t.poster_path):"/no-image.png",alt:t.title||"Movie poster",onError:()=>{u(!0)},priority:!1,loading:"lazy"})}),(0,n.jsx)("p",{className:"font-semibold truncate mt-2 text-center",children:t.title}),(0,n.jsxs)("div",{className:"flex  justify-around gap-5 items-center",children:[(0,n.jsxs)("p",{className:"text-sm mt-2",children:[new Date(t.release_date).getFullYear(),"  "]}),(0,n.jsxs)("p",{className:"text-sm mt-2 flex gap-3 items-center",children:[(0,n.jsx)(s,{})," ",t.original_language.toUpperCase()]})]}),t.genres&&t.genres.length>0&&(0,n.jsx)("h1",{className:"flex gap-4",children:t.genres.map(e=>e.name).join("   |   ")}),(0,n.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,n.jsx)("button",{onClick:()=>{r.push("/movies/".concat(d))},className:"max-md:p-1 max-md:rounded-xl max-md:font-semibold max-md:text-[14px] max-md: text-black rounded-2xl cursor-pointer  bg-[#f84565] px-4 py-2 font-semibold hover:bg-[#f84565]/80",children:"View More"}),(0,n.jsxs)("div",{className:"flex gap-1",children:[(0,n.jsx)(a.A,{className:"text-amber-400 object-fill fill-amber-400"}),t.vote_average.toFixed(1)]})]})]})}},4052:(e,t,r)=>{var n=0/0,s=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt,c="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,u="object"==typeof self&&self&&self.Object===Object&&self,d=c||u||Function("return this")(),m=Object.prototype.toString,f=Math.max,x=Math.min,h=function(){return d.Date.now()};function p(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function v(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==m.call(t))return n;if(p(e)){var t,r="function"==typeof e.valueOf?e.valueOf():e;e=p(r)?r+"":r}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var c=i.test(e);return c||o.test(e)?l(e.slice(2),c?2:8):a.test(e)?n:+e}e.exports=function(e,t,r){var n,s,a,i,o,l,c=0,u=!1,d=!1,m=!0;if("function"!=typeof e)throw TypeError("Expected a function");function g(t){var r=n,a=s;return n=s=void 0,c=t,i=e.apply(a,r)}function b(e){var r=e-l,n=e-c;return void 0===l||r>=t||r<0||d&&n>=a}function j(){var e,r,n,s=h();if(b(s))return y(s);o=setTimeout(j,(e=s-l,r=s-c,n=t-e,d?x(n,a-r):n))}function y(e){return(o=void 0,m&&n)?g(e):(n=s=void 0,i)}function w(){var e,r=h(),a=b(r);if(n=arguments,s=this,l=r,a){if(void 0===o)return c=e=l,o=setTimeout(j,t),u?g(e):i;if(d)return o=setTimeout(j,t),g(l)}return void 0===o&&(o=setTimeout(j,t)),i}return t=v(t)||0,p(r)&&(u=!!r.leading,a=(d="maxWait"in r)?f(v(r.maxWait)||0,t):a,m="trailing"in r?!!r.trailing:m),w.cancel=function(){void 0!==o&&clearTimeout(o),c=0,n=l=s=o=void 0},w.flush=function(){return void 0===o?i:y(h())},w}},6622:(e,t,r)=>{Promise.resolve().then(r.bind(r,2873))},8564:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(9946).A)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},8932:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(5155);let s=e=>{let{top:t="auto",left:r="auto",right:s="auto",bottom:a="auto"}=e;return(0,n.jsx)("div",{className:"absolute -z-50 h-[230px] w-[230px] aspect-square rounded-full bg-[#f84565]/30 blur-[30px]",style:{top:t,left:r,right:s,bottom:a}})}}},e=>{e.O(0,[651,568,244,441,964,358],()=>e(e.s=6622)),_N_E=e.O()}]);