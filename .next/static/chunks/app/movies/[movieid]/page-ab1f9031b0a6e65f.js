(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[296],{902:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});let l=e=>{let t=Math.floor(e/60);return" ".concat(t,"h ").concat(e%60,"m")}},1976:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});let l=(0,a(9946).A)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]])},2555:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var l=a(5155),s=a(2115),r=a(6766);a(8932);var i=a(8564),n=a(5152),c=a(1976),o=a(902),d=a(3568),u=a(6149),m=a(6856),h=a(5695);function p(){let{movieid:e}=(0,h.useParams)(),[t,a]=(0,s.useState)(null),[p,x]=(0,s.useState)(!1),[y,f]=(0,s.useState)(!1),[v,g]=(0,s.useState)(null),[w,b]=(0,s.useState)(!0),[j,P]=(0,s.useState)(null);(0,s.useEffect)(()=>{let t=async()=>{try{var t,l,s,r,i,n;b(!0);let c="23102388d04ea414040596bb8b634d15";if(!c)throw Error("Missing NEXT_PUBLIC_TMDB_API_KEY");let o=await fetch("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=").concat(c,"&language=en-US&append_to_response=images,videos,credits,watch/providers&include_image_language=null,en")),d=await o.json();if(!o.ok||(null==d?void 0:d.success)===!1)throw Error((null==d?void 0:d.status_message)||"Failed to load movie data");a(d),(null==(l=d.videos)||null==(t=l.results)?void 0:t.find(e=>"YouTube"===e.site&&"Trailer"===e.type))?P(d.videos.results.find(e=>"YouTube"===e.site&&"Trailer"===e.type)):P((null==(n=d.videos)||null==(i=n.results)?void 0:i.find(e=>"YouTube"===e.site&&"Teaser"===e.type))||null);let u=null==(r=d.credits)||null==(s=r.crew)?void 0:s.find(e=>"Director"===e.job);g(u||null)}catch(e){d.Ay.error(e.message||"Failed to load movie data"),a(null),g(null)}finally{b(!1)}};e&&t()},[e]),(0,s.useEffect)(()=>{let t=async()=>{try{let[t,a]=await Promise.all([fetch("/api/isfavorite",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({movieid:e})}),fetch("/api/iswatchlater",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({movieid:e})})]),[l,s]=await Promise.all([t.json(),a.json()]);l.success&&x(!0),s.success&&f(!0)}catch(e){}};e&&t()},[e]);let N=async()=>{let e=new Headers;e.append("Content-Type","application/json");let a=JSON.stringify({movieid:t.id,poster_path:t.poster_path,title:t.title,release_date:t.release_date,original_language:t.original_language,vote_average:t.vote_average}),l=await fetch("/api/watchlater",{method:"POST",headers:e,body:a,redirect:"follow"}),s=await l.json();s.success&&(d.Ay.success(s.message),f(!0))},k=async()=>{let e=new Headers;e.append("Content-Type","application/json");let a=JSON.stringify({movieid:t.id}),l=await fetch("/api/watchlater",{method:"DELETE",headers:e,body:a,redirect:"follow"}),s=await l.json();s.success&&(d.Ay.success(s.message),f(!1))},_=async()=>{let e=new Headers;e.append("Content-Type","application/json");let a=JSON.stringify({movieid:t.id,poster_path:t.poster_path,title:t.title,release_date:t.release_date,original_language:t.original_language,vote_average:t.vote_average}),l=await fetch("/api/favorite",{method:"POST",headers:e,body:a,redirect:"follow"});(await l.json()).success&&(d.Ay.success("Added to favorites"),x(e=>!e))},E=async()=>{let e=new Headers;e.append("Content-Type","application/json");let a=JSON.stringify({movieid:t.id}),l=await fetch("/api/favorite",{method:"DELETE",headers:e,body:a,redirect:"follow"});(await l.json()).success&&(d.Ay.success("Removed from Favorites"),x(e=>!e))};if(w)return(0,l.jsx)("div",{className:"w-[80%] mx-auto md:mt-32 max-md:mt-16",children:(0,l.jsxs)("div",{className:"text-center py-8",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#f84565] mx-auto mb-4"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Loading movie details..."})]})});if(!t)return(0,l.jsx)("div",{className:"w-[80%] mx-auto md:mt-32 max-md:mt-16",children:(0,l.jsx)("div",{className:"text-center py-8",children:(0,l.jsx)("p",{className:"text-red-600",children:"The movie you are trying to search is not available"})})});if(t){var A,S,T,I,C,z,L,O,R,M,Y;return(0,l.jsxs)("div",{className:"w-[80%]  max-md:w-full max-md: max-md:ml-2 max-md:pr-2 mx-auto md:mt-32 max-md:mt-16",children:[(0,l.jsx)(d.Toaster,{}),(0,l.jsx)(m.A,{movie:t}),(0,l.jsxs)("div",{className:"flex flex-col  gap-5",children:[(0,l.jsxs)("div",{className:"flex max-md:flex-col max-md:justify-center max-md:items-center  md:gap-10",children:[(0,l.jsx)(r.default,{priority:!0,src:"https://image.tmdb.org/t/p/w500".concat(t.poster_path),height:350,width:250,alt:"".concat(t.title," poster"),className:"rounded-2xl border mt-5 w-[250px] h-[350px] border-s border-[#f84565] shadow-xl shadow-white"}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("h1",{className:"text-4xl font-bold pb-3 flex gap-5 items-center text-[#f84565] ",children:[t.title,t.adult&&(0,l.jsx)(r.default,{src:"/-18.png",alt:"18",width:40,height:40})]}),(0,l.jsx)("h1",{className:"text-xl w-[600px] text-white/50 max-md:w-full",children:t.overview}),(0,l.jsx)("div",{className:"text-[#f84565]  flex gap-4 py-2",children:t.genres&&t.genres.length>0&&(0,l.jsx)("h1",{className:"flex gap-4",children:t.genres.map(e=>e.name).join("   |   ")})}),(0,l.jsxs)("div",{className:"flex gap-4",children:[(0,l.jsx)("h1",{className:"text-xl",children:(0,o.A)(t.runtime)}),(0,l.jsxs)("h1",{className:"text-xl",children:["Year : ",t.release_date.split("-")[0]]}),(0,l.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,l.jsx)("div",{className:"bg-white rounded-full w-8 flex items-center justify-center",children:(0,l.jsx)(i.A,{width:100,className:"fill-amber-600 "})}),(0,l.jsx)("h1",{children:t.vote_average.toFixed(1)})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{children:"A movie by -  "}),(0,l.jsx)("span",{className:"text-xl",children:(null==v?void 0:v.name)||"Unknown Director"})]}),(0,l.jsxs)("div",{className:"flex gap-5 items-center mt-5",children:[(0,l.jsxs)("div",{className:"flex gap-4 bg-[#212121] hover:scale-105 w-fit px-4 py-2 rounded-2xl cursor-pointer",onClick:()=>{!1===y?N():k()},children:[(0,l.jsx)("h1",{children:"Watch Later"}),(0,l.jsx)(n.A,{className:y?"text-[#f84565]":""})]}),(0,l.jsx)("div",{className:"rounded-full  p-1 cursor-pointer bg-[#212121] outline",onClick:()=>{!1===p?_():E()},children:(0,l.jsx)(c.A,{className:p?"fill-[#f84565] text-[#f84565] ":""})})]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{children:(0,l.jsx)("h1",{className:"text-lg text-[#f84565] font-semibold mt-4 text-center",children:"You can watch this movie on"})}),(0,l.jsx)("div",{className:"flex gap-5 pt-5",children:!(null==(I=t["watch/providers"])||null==(T=I.results)||null==(S=T.CA)||null==(A=S.buy)?void 0:A.length)>0?(0,l.jsx)("div",{className:"text-center text-gray-600",children:"No Watch Providers Available for this Movie"}):null==(O=t["watch/providers"])||null==(L=O.results)||null==(z=L.CA)||null==(C=z.buy)?void 0:C.slice(0,6).map(e=>(0,l.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,l.jsx)(r.default,{src:e.logo_path?"https://image.tmdb.org/t/p/w200".concat(e.logo_path):"/no-image.png",width:100,height:100,alt:"provider",className:"rounded-2xl",loading:"lazy"}),(0,l.jsx)("h1",{className:"text-center",children:e.provider_name})]},e.logo_path))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-lg font-semibold mb-4 text-[#f84565] text-center",children:"Photos and Images from the Movie"}),(null==(R=t.images)?void 0:R.backdrops)&&t.images.backdrops.length>0?(0,l.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:t.images.backdrops.slice(0,15).map(e=>(0,l.jsx)("div",{className:"relative group",children:(0,l.jsx)(r.default,{src:e.file_path?"https://image.tmdb.org/t/p/w500".concat(e.file_path):"/no-image.png",loading:"lazy",width:300,height:180,alt:"".concat(t.title," backdrop"),className:"rounded object-cover w-full h-32"})},e.file_path))}):(0,l.jsx)("div",{className:"text-center py-8 text-gray-500",children:(0,l.jsx)("p",{children:"No images available for this movie"})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-3xl font-semibold mb-4 text-[#f84565] text-center",children:"Watch Trailer Here"}),(0,l.jsx)("div",{children:j&&j.key?(0,l.jsx)("div",{className:"relative w-full pb-[56.25%]",children:(0,l.jsx)(u.A,{src:"https://www.youtube.com/watch?v=".concat(j.key),controls:!0,width:"100%",height:"100%",className:"absolute top-0 left-0 w-full h-full",playing:!1,muted:!1,loop:!1,config:{youtube:{playerVars:{modestbranding:1,controls:1,rel:0}}}})}):(0,l.jsx)("div",{className:"text-center py-8 text-gray-500",children:(0,l.jsx)("p",{children:"No trailer available for this movie"})})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"CAST"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-4 max-md:gap-2",children:null==(Y=t.credits)||null==(M=Y.cast)?void 0:M.slice(0,10).map(e=>(0,l.jsxs)("div",{className:"flex flex-col items-center w-24",children:[(0,l.jsx)(r.default,{src:e.profile_path?"https://image.tmdb.org/t/p/w200".concat(e.profile_path):"/no-image.png",loading:"lazy",alt:e.name,width:100,height:100,className:"rounded-2xl object-cover w-20 h-28 bg-gray-800"}),(0,l.jsx)("span",{className:"text-xs text-white mt-1 text-center truncate w-full",children:e.name}),(0,l.jsx)("span",{className:"text-[10px] text-gray-400 text-center truncate w-full",children:e.character})]},e.id))})]})]})]})}}},5152:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});let l=(0,a(9946).A)("clock-9",[["path",{d:"M12 6v6H8",key:"u39vzm"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},5695:(e,t,a)=>{"use strict";var l=a(8999);a.o(l,"useParams")&&a.d(t,{useParams:function(){return l.useParams}}),a.o(l,"usePathname")&&a.d(t,{usePathname:function(){return l.usePathname}}),a.o(l,"useRouter")&&a.d(t,{useRouter:function(){return l.useRouter}}),a.o(l,"useSelectedLayoutSegments")&&a.d(t,{useSelectedLayoutSegments:function(){return l.useSelectedLayoutSegments}})},6149:(e,t,a)=>{"use strict";a.d(t,{A:()=>k});var l=a(2115);let s=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,r=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,i=/\.(m3u8)($|\?)/i,n=/\.(mpd)($|\?)/i,c=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,o=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,d=/vimeo\.com\/(?!progressive_redirect).+/,u=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,m=/open\.spotify\.com\/(\w+)\/(\w+)/i,h=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+|(videos?\/|\?video=)\d+)($|\?)/,p=/tiktok\.com\/(?:@[^/]+\/video\/)?(\d+)(?:\/([\w-]+))?/,x=(e,t)=>{if(Array.isArray(e)){for(let a of e)if("string"==typeof a&&x(a,t)||x(a.src,t))return!0;return!1}return t(e)},y={html:e=>x(e,e=>s.test(e)||r.test(e)),hls:e=>x(e,e=>i.test(e)),dash:e=>x(e,e=>n.test(e)),mux:e=>c.test(e),youtube:e=>o.test(e),vimeo:e=>d.test(e)&&!r.test(e)&&!i.test(e),wistia:e=>u.test(e),spotify:e=>m.test(e),twitch:e=>h.test(e),tiktok:e=>p.test(e)},f=l.forwardRef((e,t)=>{let a=s.test(`${e.src}`)?"audio":"video";return l.createElement(a,{...e,ref:t},e.children)}),v=[{key:"hls",name:"hls.js",canPlay:y.hls,canEnablePIP:()=>!0,player:(0,l.lazy)(()=>Promise.all([a.e(910),a.e(920),a.e(262)]).then(a.bind(a,7692)))},{key:"dash",name:"dash.js",canPlay:y.dash,canEnablePIP:()=>!0,player:(0,l.lazy)(()=>a.e(395).then(a.bind(a,1774)))},{key:"mux",name:"Mux",canPlay:y.mux,canEnablePIP:()=>!0,player:(0,l.lazy)(()=>Promise.all([a.e(910),a.e(920),a.e(723)]).then(a.bind(a,7714)))},{key:"youtube",name:"YouTube",canPlay:y.youtube,player:(0,l.lazy)(()=>a.e(446).then(a.bind(a,3635)))},{key:"vimeo",name:"Vimeo",canPlay:y.vimeo,player:(0,l.lazy)(()=>a.e(173).then(a.bind(a,4707)))},{key:"wistia",name:"Wistia",canPlay:y.wistia,canEnablePIP:()=>!0,player:(0,l.lazy)(()=>a.e(340).then(a.bind(a,6048)))},{key:"spotify",name:"Spotify",canPlay:y.spotify,canEnablePIP:()=>!1,player:(0,l.lazy)(()=>a.e(771).then(a.bind(a,964)))},{key:"twitch",name:"Twitch",canPlay:y.twitch,canEnablePIP:()=>!1,player:(0,l.lazy)(()=>a.e(42).then(a.bind(a,5625)))},{key:"tiktok",name:"TikTok",canPlay:y.tiktok,canEnablePIP:()=>!1,player:(0,l.lazy)(()=>a.e(85).then(a.bind(a,3295)))},{key:"html",name:"html",canPlay:y.html,canEnablePIP:()=>!0,player:f}],g={width:"320px",height:"180px",volume:1,playbackRate:1,previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}"},w=l.forwardRef((e,t)=>{let{playing:a,pip:s}=e,r=e.activePlayer,i=(0,l.useRef)(null),n=(0,l.useRef)(!0);if((0,l.useEffect)(()=>{var t,l;i.current&&(i.current.paused&&!0===a&&i.current.play(),i.current.paused||!1!==a||i.current.pause(),i.current.playbackRate=null!=(t=e.playbackRate)?t:1,i.current.volume=null!=(l=e.volume)?l:1)}),(0,l.useEffect)(()=>{var e,t,a,l,r;if(i.current&&globalThis.document){if(s&&!document.pictureInPictureElement)try{null==(t=(e=i.current).requestPictureInPicture)||t.call(e)}catch(e){}if(!s&&document.pictureInPictureElement)try{null==(l=(a=i.current).exitPictureInPicture)||l.call(a),null==(r=document.exitPictureInPicture)||r.call(document)}catch(e){}}},[s]),!r)return null;let c={};for(let t in e)t.startsWith("on")&&(c[t]=e[t]);return l.createElement(r,{...c,style:e.style,className:e.className,slot:e.slot,ref:(0,l.useCallback)(e=>{i.current=e,"function"==typeof t?t(e):null!==t&&(t.current=e)},[t]),src:e.src,crossOrigin:e.crossOrigin,preload:e.preload,controls:e.controls,muted:e.muted,autoPlay:e.autoPlay,loop:e.loop,playsInline:e.playsInline,config:e.config,onLoadStart:t=>{var a,l;n.current=!0,null==(a=e.onReady)||a.call(e),null==(l=e.onLoadStart)||l.call(e,t)},onPlay:t=>{var a,l;n.current&&(n.current=!1,null==(a=e.onStart)||a.call(e,t)),null==(l=e.onPlay)||l.call(e,t)}},e.children)});w.displayName="Player";let b=(0,l.lazy)(()=>a.e(353).then(a.bind(a,6584))),j=[],P=({children:e})=>e,N=v[v.length-1];var k=((e,t)=>{let a=l.forwardRef((a,s)=>{let r={...g,...a},{src:i,slot:n,className:c,style:o,width:d,height:u,fallback:m,wrapper:h}=r,[p,x]=(0,l.useState)(!!r.light);(0,l.useEffect)(()=>{r.light?x(!0):x(!1)},[r.light]);let y=e=>{var t;x(!1),null==(t=r.onClickPreview)||t.call(r,e)},f=null==h?P:h,v=!1===m?P:l.Suspense;return l.createElement(f,{slot:n,className:c,style:{width:d,height:u,...o}},l.createElement(v,{fallback:m},p?(e=>{if(!e)return null;let{light:t,playIcon:a,previewTabIndex:s,oEmbedUrl:i,previewAriaLabel:n}=r;return l.createElement(b,{src:e,light:t,playIcon:a,previewTabIndex:s,previewAriaLabel:n,oEmbedUrl:i,onClickPreview:y})})(i):(a=>{var i,o;let d=(a=>{for(let t of[...j,...e])if(a&&t.canPlay(a))return t;return t||null})(a);if(!d)return null;let{style:u,width:m,height:h,wrapper:p}=r,x=null==(i=r.config)?void 0:i[d.key];return l.createElement(w,{...r,ref:s,activePlayer:null!=(o=d.player)?o:d,slot:p?void 0:n,className:p?void 0:c,style:p?{display:"block",width:"100%",height:"100%"}:{display:"block",width:m,height:h,...u},config:x})})(i)))});return a.displayName="ReactPlayer",a.addCustomPlayer=e=>{j.push(e)},a.removeCustomPlayers=()=>{j.length=0},a.canPlay=t=>{if(t){for(let a of[...j,...e])if(a.canPlay(t))return!0}return!1},a.canEnablePIP=t=>{var a;if(t){for(let l of[...j,...e])if(l.canPlay(t)&&(null==(a=l.canEnablePIP)?void 0:a.call(l)))return!0}return!1},a})(v,N)},6218:(e,t,a)=>{Promise.resolve().then(a.bind(a,2555))},6856:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var l=a(5155);a(2115);let s=e=>{let{movie:t}=e;return(0,l.jsx)("div",{})}},8564:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});let l=(0,a(9946).A)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},8932:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var l=a(5155);let s=e=>{let{top:t="auto",left:a="auto",right:s="auto",bottom:r="auto"}=e;return(0,l.jsx)("div",{className:"absolute -z-50 h-[230px] w-[230px] aspect-square rounded-full bg-[#f84565]/30 blur-[30px]",style:{top:t,left:a,right:s,bottom:r}})}}},e=>{e.O(0,[651,568,441,964,358],()=>e(e.s=6218)),_N_E=e.O()}]);