"use strict";exports.id=262,exports.ids=[262],exports.modules={45984:(a,b,c)=>{c.r(b),c.d(b,{default:()=>m});var d=c(43210),e=c(42949),f=c(88952),g=c(13637);let h=(a=>class extends a{static shadowRootOptions={...a.shadowRootOptions};static getTemplateHTML=(b,c={})=>{let{src:d,...e}=b;return`
        <script type="application/json" id="config">
          ${JSON.stringify(c.config||{})}
        </script>
        ${a.getTemplateHTML(e)}
      `};#a=null;#b=null;constructor(){super(),this.#c("config")}get config(){return this.#b}set config(a){this.#b=a}attributeChangedCallback(a,b,c){"src"!==a&&super.attributeChangedCallback(a,b,c),"src"===a&&b!=c&&this.load()}#d(){var a,b;null==(a=this.#a)||a.remove(),null==(b=this.nativeEl)||b.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.#e),this.api&&(this.api.detachMedia(),this.api.destroy(),this.api=null)}async load(){var a,b;let c=!this.api;if(this.#d(),this.src){if(c&&!this.#b&&(this.#b=JSON.parse((null==(a=this.shadowRoot.getElementById("config"))?void 0:a.textContent)||"{}")),g.Ay.isSupported()){switch(this.api=new g.Ay({liveDurationInfinity:!0,autoStartLoad:!1,...this.config}),await Promise.resolve(),this.api.loadSource(this.src),this.api.attachMedia(this.nativeEl),this.nativeEl.preload){case"none":{let a=()=>this.api.startLoad();this.nativeEl.addEventListener("play",a,{once:!0}),this.api.on(g.Ay.Events.DESTROYING,()=>{this.nativeEl.removeEventListener("play",a)});break}case"metadata":{let a=this.api.config.maxBufferLength,b=this.api.config.maxBufferSize;this.api.config.maxBufferLength=1,this.api.config.maxBufferSize=1;let c=()=>{this.api.config.maxBufferLength=a,this.api.config.maxBufferSize=b};this.nativeEl.addEventListener("play",c,{once:!0}),this.api.on(g.Ay.Events.DESTROYING,()=>{this.nativeEl.removeEventListener("play",c)}),this.api.startLoad();break}default:this.api.startLoad()}this.nativeEl.webkitCurrentPlaybackTargetIsWireless&&this.api.stopLoad(),this.nativeEl.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.#e),this.#a=document.createElement("source"),this.#a.setAttribute("type","application/x-mpegURL"),this.#a.setAttribute("src",this.src),this.nativeEl.disableRemotePlayback=!1,this.nativeEl.append(this.#a);let a=new WeakMap;this.api.on(g.Ay.Events.MANIFEST_PARSED,(b,c)=>{this.nativeEl.autoplay&&this.nativeEl.paused&&this.nativeEl.play().catch(a=>{console.warn("Autoplay failed:",a)}),d();let e=this.videoTracks.getTrackById("main");for(let[b,d]of(e||((e=this.addVideoTrack("main")).id="main",e.selected=!0),c.levels.entries())){let c=e.addRendition(d.url[0],d.width,d.height,d.videoCodec,d.bitrate);a.set(d,`${b}`),c.id=`${b}`}for(let[a,b]of c.audioTracks.entries()){let c=b.default?"main":"alternative",d=this.addAudioTrack(c,b.name,b.lang);d.id=`${a}`,b.default&&(d.enabled=!0)}}),this.audioTracks.addEventListener("change",()=>{var a;let b=+(null==(a=[...this.audioTracks].find(a=>a.enabled))?void 0:a.id),c=this.api.audioTracks.map(a=>a.id);b!=this.api.audioTrack&&c.includes(b)&&(this.api.audioTrack=b)}),this.api.on(g.Ay.Events.LEVELS_UPDATED,(b,c)=>{let d=this.videoTracks[this.videoTracks.selectedIndex??0];if(!d)return;let e=c.levels.map(b=>a.get(b));for(let a of this.videoRenditions)a.id&&!e.includes(a.id)&&d.removeRendition(a)});let c=a=>{let b=a.target.selectedIndex;b!=this.api.nextLevel&&(this.api.nextLevel=b)};null==(b=this.videoRenditions)||b.addEventListener("change",c);let d=()=>{for(let a of this.videoTracks)this.removeVideoTrack(a);for(let a of this.audioTracks)this.removeAudioTrack(a)};this.api.once(g.Ay.Events.DESTROYING,d);return}await Promise.resolve(),this.nativeEl.canPlayType("application/vnd.apple.mpegurl")&&(this.nativeEl.src=this.src)}}#e=()=>{var a,b,c;(null==(a=this.nativeEl)?void 0:a.webkitCurrentPlaybackTargetIsWireless)?null==(b=this.api)||b.stopLoad():null==(c=this.api)||c.startLoad()};#c(a){if(Object.prototype.hasOwnProperty.call(this,a)){let b=this[a];delete this[a],this[a]=b}}})((0,f.u6)(e.lB));globalThis.customElements&&!globalThis.customElements.get("hls-video")&&globalThis.customElements.define("hls-video",h);var i=new Set(["style","children","ref","key","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML"]),j={className:"class",htmlFor:"for"};function k(a){return a.toLowerCase()}function l(a){return"boolean"==typeof a?a?"":void 0:"function"==typeof a?void 0:"object"!=typeof a||null===a?a:void 0}var m=function({react:a,tagName:b,elementClass:c,events:d,displayName:e,defaultProps:f,toAttributeName:g=k,toAttributeValue:h=l}){let m=Number.parseInt(a.version)>=19,n=a.forwardRef((d,e)=>{var k,n;let o=a.useRef(null);a.useRef(new Map);let p={},q={},r={},s={};for(let[a,b]of Object.entries(d)){if(i.has(a)){r[a]=b;continue}let d=g(j[a]??a);if(c.prototype&&a in c.prototype&&!(a in((null==(k=globalThis.HTMLElement)?void 0:k.prototype)??{}))&&!(null==(n=c.observedAttributes)?void 0:n.some(a=>a===d))){s[a]=b;continue}if(a.startsWith("on")){p[a]=b;continue}let e=h(b);d&&null!=e&&(q[d]=String(e),m||(r[d]=e)),d&&m&&(e!==l(b)?r[d]=e:r[d]=b)}if((null==c?void 0:c.getTemplateHTML)&&(null==c?void 0:c.shadowRootOptions)){let{mode:b,delegatesFocus:e}=c.shadowRootOptions;r.children=[a.createElement("template",{shadowrootmode:b,shadowrootdelegatesfocus:e,dangerouslySetInnerHTML:{__html:c.getTemplateHTML(q,d)}}),r.children]}return a.createElement(b,{...f,...r,ref:a.useCallback(a=>{o.current=a,"function"==typeof e?e(a):null!==e&&(e.current=a)},[e])})});return n.displayName=e??c.name,n}({react:d,tagName:"hls-video",elementClass:h,toAttributeName:a=>"muted"===a?"":"defaultMuted"===a?"muted":k(a)})}};